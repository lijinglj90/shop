接口自动化测试项目--专题
一、目标：
基于python语言结合requests库来实现接口自动化测试
二、内容：
黑马头条自动化测试（接口：登录，收藏，取消收藏）
三、收获：
接口清单
接口用例编写（单个，多个）
接口自动化测试流程
接口自动化测试框架搭建（分层结构）
api层封装 （基于请求方法，接口，接口资源）
业务层在unittest框架中的实现 
token动态参数的应用--扩展
数据驱动的封装和编写--text,json
数据库工具类的封装

基于代码--项目实战
目标：
1、熟悉接口自动化测试流程（步骤，每一步干什么）
2、能够对一个项目的接口实现自动化测试（参数化，测试框架，测试报告）

一、测试流程流程分析：
需求分析
  请求（URL，方法，数据）
  响应（响应数据，状态码）
挑选需要做自动化测试的功能
  时间，人员，接口复杂度
设计测试用例
  和功能case一致
搭建自动化测试环境【可选】
  实现自动化的语音（Python，pycharm）
设计自动化测试项目的框架【可选】
  报告模板，参数化，用例执行框架（unittest,pytest）
编写代码
执行测试用例（unittest,pytest  带）
生成测试报告及分析结果  
  htmltextrunner  allure

二、接口清单
1、登录接口
2、获取用户频道列表
3、收藏文章
4、取消收藏文章

三、用例设计
单接口
模板：ID,模块,模块接口,请求url,用例名称,请求方法,请求参数类型,请求参数,预期结果,测试结果,备注
注意:单接口颗粒度放的比较小（以测试数据为颗粒度）
多接口
模板：ID,模块,模块接口,请求url,用例名称,请求方法,请求参数类型,请求参数,预期结果,测试结果,备注
注意:多个接口颗粒度以接口为基础，每个接口所涉及的数据，通过参数化来解决

四、项目搭建
api  基于项目模块，四个接口三个模块
case  业务层测试用例
data  测试数据，预期结果，参数化文件
report  测试报告
tools  第三方工具 
venv  自动生成虚拟环境
app.py  其他-本系统不涉及
run_suite.py  测试入口文件


tools:编写读取json工具
导包json
新建读取工具类
 使用初始化方法 获取需要读取的文件名
  读取文件方法：（打开json文件获取文件流，调用load方法加载文件流，返回结果）
使用参数化动态获取参数数据
  结合parameterized组件使用
  方式：get_data返回列表嵌套元组数据格式
  @parameterized.expend(get_data)
提示：数据格式必须是列表嵌套元组，使用空列表添加读取出来的数据

多条用例数据读取扩展
json文件编写：{"用例编号1作为键名":"{"url":"值1","mod":"值1"}","用例编号2作为键名":"{"url":"值2","mod":"值2"}}
读取json文件方法改造：通过for循环加上使用字典.values()方法获取所有的值


验证码：
http://ttapi.research.itcast.cn/app/v1_0/sms/codes/15652631378



